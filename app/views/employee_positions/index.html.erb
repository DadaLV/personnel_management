<div class="container m-4">
  <h2>Employee positions' history</h2>

  <% if @employee_positions.present? %>
    <table class="table table-hover table-striped table-bordered">
      <thead>
        <tr>
          <th scope="col">Position Name</th>
          <th scope="col">Start Date</th>
          <th scope="col">End Date</th>
          <th scope="col">Years on Position</th>
          <th scope="col">Basic Salary</th>
          <th scope="col">Total Salary</th>
          <th colspan="3"></th>
        </tr>
      </thead>
      <tbody>
        <% @employee_positions.each do |employee_position| %>
          <% decorated_position = employee_position.decorate %>
          <tr>
            <td><%= decorated_position.position.name %></td>
            <td><%= decorated_position.start_date %></td>
            <td><%= decorated_position.end_date %></td>
            <td><%= decorated_position.years_on_position %></td>
            <td><%= decorated_position.position.salary %></td>
            <td><%= decorated_position.total_salary %></td>
            <td>
              <%= link_to "Edit", edit_employee_position_path(@employee, employee_position), class: "btn btn-primary"   %>
            </td>
          </tr>
        <% end %>
      </tbody>
   </table>
  <% else %>
    <p>No employee positions found.</p>
  <% end %>

  <%= link_to "Back to Employee", employee_path(@employee), class: "btn btn-primary"   %>
</div>